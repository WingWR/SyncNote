spring:
  profiles:
    active: dev
  application:
    name: syncnote-boot
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: remote_user
    password: Software007@
    url: jdbc:mysql://139.196.151.22:3306/sync_note

  data:
    redis:
      host: 139.196.151.22
      port: 6379
      password: Software007@
      database: 0
      connect-timeout: 5000
      timeout: 2000
  sql:
    init:
      mode: always
      schema-locations: classpath:schema.sql
      data-locations: classpath:data.sql
    # 如果使用的是 Spring Boot 3.x，建议增加以下配置以确保初始化顺序
    jpa:
      defer-datasource-initialization: false

# 默认配置（可被profile特定配置覆盖）
storage:
  minio:
    endpoint: ${MINIO_ENDPOINT:http://139.196.151.22:9000}
    accessKey: ${MINIO_ACCESS_KEY:admin}
    secretKey: ${MINIO_SECRET_KEY:admin123}
    bucket: ${MINIO_BUCKET:syncnote-documents}

jwt:
  # Token 密钥（请替换为生产环境的安全随机字符串）
  secret-key: "dsaiuohdsafbdsjkfd23762163jifbd2"

  # Token 持续时间（毫秒），默认 12 小时
  expiration-ms: 43200000

  # Redis 中存储 token 的前缀
  redis-prefix: "TOKEN:"

logging:
  level:
    root: INFO
    # 打开对 JWT 解析和过滤器的详细日志，便于排查 403/认证问题
    com.syncnote.syncnoteboot.filter.JwtRequestFilter: DEBUG
    com.syncnote.util.JWT: DEBUG
    org.springframework.security: DEBUG
    # 打开mapper 日志 查看 查询逻辑
    #com.syncnote.document.mapper: DEBUG
# AI Module Configuration
syncnote:
  ai:
    providers:
      # OpenAI Provider (disabled by default, can be enabled with env vars)
      # OpenAI提供者配置
      openai:
        # OpenAI是否启用
        enabled: ${SYNCNOTE_AI_OPENAI_ENABLED:false}
        # OpenAI的API密钥
        api-key: ${SYNCNOTE_AI_OPENAI_API_KEY:}
        # OpenAI的端点
        endpoint: ${SYNCNOTE_AI_OPENAI_ENDPOINT:}
        # OpenAI的模型ID
        modelId: ${SYNCNOTE_AI_OPENAI_MODEL_ID:gpt-3.5-turbo}
      
      # Mock Provider (enabled by default)
      # Mock提供者（默认启用）
      mock:
        # Mock提供者是否启用
        enabled: ${SYNCNOTE_AI_MOCK_ENABLED:true}
        # Mock提供者模型ID
        modelId: ${SYNCNOTE_AI_MOCK_MODEL_ID:mock-model}
      deepseek_chat:
        enabled: ${SYNCNOTE_AI_DEEPSEEK_ENABLED:true}
        api-key: ${SYNCNOTE_AI_DEEPSEEK_API_KEY:sk-90ac868504e94e5aaec7016bb4a1b4c6}
        endpoint: ${SYNCNOTE_AI_DEEPSEEK_ENDPOINT:https://api.deepseek.com/v1}
        modelId: ${SYNCNOTE_AI_DEEPSEEK_MODEL_ID:deepseek-chat}
      deepseek_reasoner:
        enabled: ${SYNCNOTE_AI_DEEPSEEK_ENABLED:true}
        api-key: ${SYNCNOTE_AI_DEEPSEEK_API_KEY:sk-90ac868504e94e5aaec7016bb4a1b4c6}
        endpoint: ${SYNCNOTE_AI_DEEPSEEK_ENDPOINT:https://api.deepseek.com/v1}
        modelId: ${SYNCNOTE_AI_DEEPSEEK_MODEL_ID:deepseek-reasoner}
      # Qwen Provider (通义千问)
      qwen:
        enabled: ${SYNCNOTE_AI_QWEN_ENABLED:true}
        api-key: ${SYNCNOTE_AI_QWEN_API_KEY:sk-7d351140e99c4744a37d73b67bfe7592}
        endpoint: ${SYNCNOTE_AI_QWEN_ENDPOINT:https://dashscope.aliyuncs.com/compatible-mode/v1}
        model-id: ${SYNCNOTE_AI_QWEN_MODEL_ID:qwen-flash}
        # 可选模型: qwen-turbo, qwen-plus, qwen-max, qwen-long
      
      # Kimi Provider (月之暗面)
      kimi:
        enabled: ${SYNCNOTE_AI_KIMI_ENABLED:true}
        api-key: ${SYNCNOTE_AI_KIMI_API_KEY:sk-7d351140e99c4744a37d73b67bfe7592}
        endpoint: ${SYNCNOTE_AI_KIMI_ENDPOINT:https://dashscope.aliyuncs.com/compatible-mode/v1}
        model-id: ${SYNCNOTE_AI_KIMI_MODEL_ID:kimi-k2-thinking}